# Python笔记——基础和数据结构

[TOC]



## 1 基础知识  

### 1.1 数和表达式

#### 1.1.1 数学运算符

* 加减乘分别为：+、-、*

* 有三种常用除法
  * 常规除法： /

  * 整除： //

    > 这里的整除是向下取整。

  * 求余: %，等价于x - ((x // y) * y)

* 幂运算：使用 ** 而非 ^ 。

  > 乘方运算符的优先级比求负高，与数学运算中一致。

#### 1.1.2 不同进制的表示方法

* 十六进制：0xFF

* 八进制：011

* 二进制：0b0101001

### 1.2 变量

* python中变量没有默认值，必须赋初值，是指将标识符指向某个对象。

* 变量名称由数字、下划线、字母组成，不能以数字开头。

### 1.3 模块

#### 1.3.1 模块的调用

* 使用import导入模块，再以module.function的方式使用模块中的函数。

* 直接使用from module import function调用函数，不用指定前缀，但容易引起冲突。

#### 1.3.2 cmath和复数

* python支持复数的使用，虚数以j（或J）结尾。

### 1.4 python其他常见功能

#### 1.4.1 turtle绘图

#### 1.4.2 注释方法

* 使用 # 进行单句注释，使用 ''' 或者 """ 进行多行注释。
* 注释内容应为必要内容，而不是重复可从代码中轻易获取的内容。

#### 1.4.3 拼接字符串

* 以 str(s1) + str(s2) 的形式进行拼接。

#### 1.4.4 字符串表示str和repr

* str可以将值转化为用户易读的字符串。

* repr可以将值用合法的表达式表示出来。

#### 1.4.4 两种特殊的字符串

* 长字符串，用三引号 '''...''' 表示多行内容。

* 原始字符串，以 r'words' 的形式表示，其不会对\进行特殊处理，在某些情形下有用。
> 但使用 \' 时会使显示值含有 \ 。

#### 1.4.5 编码与解码

* 默认使用UTF-8编码。

> 特殊情形以特殊注释来指定：# _*_ coding: encoding name _*_ 

## 2 列表与元组

### 2.1 序列综述

* 两种常用序列：列表（list）和元组（tuple），主要区别在于，列表可以修改，但是元组不可以修改。字符串也是一种序列。

* 序列可以包含一些值，也可以包含其他序列。

### 2.2 通用的序列操作

#### 2.2.1 索引

索引：用于访问特定位置的元素。

* 序列的编号从0开始递增。
> Python中没有表示字符的类型，因此用包含一个元素的字符串表示一个字符。

* 当索引为负数时，从右往左数，即-1为最后一个元素的编号。

#### 2.2.2 切片

切片：用于访问特定范围内的元素。

* numbers[start:end]，start为第一个包含的元素编号，而end为第一个余下的元素编号。

> 如果b位于a的左边，则取出空序列。

* 三种缩写
  * numbers[start: ]，取出结束于末尾的序列。
  * numbers[: end]，取出始于开头的序列。
  * number[:]，复制整个序列。


* 规定步长的切片，默认步长为1，方式为：numbers[start: end:​ step]

* 步长为负数时，由右往左提取元素，需要注意的是起点与终点的索引应与步长的正负一致，否则取出的序列为空序列。
* 当不规定起点终点时，可以正确根据步长的正负进行提取。

#### 2.2.3 序列相加

```python
>>>[1, 2, 3] + [4, 5, 6]
[1, 2, 3, 4, 5, 6]
```


* 一般情况下，不同序列类型之间不能直接相加。

#### 2.2.4 序列相乘

* 将序列与数x相乘，将重复该序列x次创建新的序列。

#### 2.2.5 成员资格

* 使用运算符in检查某特定的值是否包含在序列中，该运算符会返回布尔值。

* len函数：返回序列元素个数；min函数：返回序列中的最小值；max函数：返回序列中的最大值。

### 2.3 列表（list）

#### 2.3.1 list函数

* list函数可以将任何序列作为list的参数。

#### 2.3.2 列表的基本操作

1. 给列表中的元素赋值，如x[1] = 2。
2. 使用del语句可以删除列表中的元素以及切片，如del x[1:2]。
3. 可以给列表对列表中的切片进行赋值操作，以实现多种作用：
  * 给切片赋值，这里赋值长度可以与切片长度不一致，如x[1:2] = list('123')。
  * 删除切片，产生与del语句相似的作用，如dx[1:4] = []。
  * 插入切片，如x[1:1] = list('something')，插入的对象必须为列表。
  > 对步长不为1的切片赋值时，元素个数应一致。

#### 2.3.3 列表方法

    方法是与对象紧密联系的函数，调用方法为object.method(arguments)。

1. append，用于将一个对象附加到列表末尾，不返回值，如lst.append(4)。
2. clear，清空列表内容，不返回值。
3. copy，复制列表内容，返回一个列表，如b = a.copy()，与b = list(a)或b = a[:]类似。
	> 这是一种浅复制，只会复制最外层的内容，改变副本的内存地址，但不会改变元素的引用地址，若元素为可变对象，则改变元素的值会引起另一个列表内容的变化。

	> 常规复制（即b = a）仅仅是将两个列表相互关联，对任一列表操作都会影响另一个。
4. count，用于计算某元素在列表中出现的次数并返回。
5. extend，将多个值附加到列表末尾，修改列表不返回值，如lst.extend(b)。

  > 类似于拼接，但拼接不会影响被操作的对象，仅产生一个新的序列，采用a[len(a):] = b的方式可取得相同效果。
6. index，查找指定值**第一次**出现的索引并返回。
7. insert，用于将一个对象插入列表，修改列表不返回值，如a.insert(3, 'four')，与a[3:3] = ['four']效果相同。
8. pop，删除一个元素（不输入参数删除最后一个元素，输入参数删除该索引元素），修改列表并返回该元素。
9. remove，用于删除第一个为指定值的元素，修改列表不返回值。
10. reverse，按相反顺序排列列表，修改列表不返回值。
11. sort，对列表进行排序，修改列表不返回值。

    > 要想对列表进行排序，并保留原列表，正确做法是先关联至该列表副本，然后进行排序。
12. 高级排序，sort可接受两个参数，key和reverse。key可用于设置排序的标准，reverse可根据True和False决定是否按相反顺序排序。

### 2.4 元组（tuple）

* 使用(1, 2, 3)创建元组，其中逗号必不可少，即使只创建包含一个元素的元组，如(1,)。(1)与1的完全等效。

* tuple函数可以将序列转换成元组。

## 3 字符串

### 3.1 使用format设置字符串格式

* 具体格式如下： 'abcd is {!x0:fill, align, sign, width, ','. precision, type}'.format(a)
	* 各部分含义为：
		* !x 为转换标志符，指定转换字符串的形式；
		* 0 为被替换的字段；
		* fill 为用于填充字符的符号；
		* aligh 为对齐方式；
		* sign 为符号显示方式；
		* width 为字符的宽度；
		* ',' 为千字分隔符；
		* precision 为值的精度；
		* type 为字段的类型。

### 3.2 字符串的一些方法

* 常用的有center、find、join、lower、replace、split、strip、translate等。

## 4 字典

### 4.1 字典的创建以及使用

#### 4.1.1 字典的创建

1. 使用键值对的形式

		phonebook = {'xiaoming': '1234', 'xiaohong': '2345'}  

2. 使用函数dict，输入参数可以是键值对列表或者关键字参数

	> 字典的关键字必须是不可变类型。

#### 4.1.2 字典的使用

* len(d)返回字典d包含的项数；
* d[k]返回与键k相关联的值；
* d[k] = v将值v关联到键k；
* del d[k]删除键为k的项；
* k in d检查字典d是否包含键为k的项。

### 4.2 字典的方法

* clear() 清空字典中的内容，返回None；
* copy() 浅复制（改变副本的内容地址，但各元素指向的地址不变，即各元素指向的仍是原件而不是副本）字典中的内容并返回；
* fromkeys() 以输入值为键创建一个字典，默认值为None，返回值为创建的字典；
* get(key, default=None) 获取输入键所对应的值，如果没有时返回None，可以设置其他返回值；
* setdefault(key, default=None) 获取某键所对应的值，若没有该键则添加该键值对并返回值；
* items() 返回包含所有键值对的字典视图，可用于迭代；
* keys() 返回一个包含所有键的字典视图；
* pop() 获取指定键的值并将该键值对删除；
* popitem() 随机获取键值对，返回一个包含键值对的元组，并删除该键值对；
* update(dict2) 用一个字典中的项或者键值对列表和映射来更新另一个字典的内容，保留原键值对，添加和覆盖被传入字典的键值对；
* values() 返回字典中值的字典视图。

### 4.3 字典和列表的不同

> 和list比较，dict有以下几个特点：  
1. 查找和插入的速度极快，不会随着key的增加而变慢；  
2. 需要占用大量的内存，内存浪费多。  
    而list相反：  
1. 查找和插入的时间随着元素的增加而增加；  
2. 占用空间小，浪费内存很少。  
所以，dict是用空间来换取时间的一种方法。

